/* Google Fonts (Crimson Text, Inter, Playfair Display) loaded in index.html for better performance */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* TT Gertika Font Face Declarations */
@font-face {
  font-family: 'TTGertika';
  src: url('/fonts/tt_gertika/TT_Gertika_Trial_Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'TTGertika';
  src: url('/fonts/tt_gertika/TT_Gertika_Trial_Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'TTGertika';
  src: url('/fonts/tt_gertika/TT_Gertika_Trial_Black.ttf') format('truetype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* Cocogoose Font Face Declarations - Using cleaner variants */

/* Primary font - Clean Semilight Italic for main text */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Semilight-Italic-trial.ttf') format('truetype');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

/* Regular weight - Clean Regular instead of Letterpress */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Regular-trial.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Light weight - Clean version */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Light-trial.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

/* Ultralight weight */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Ultralight-trial.ttf') format('truetype');
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}

/* Bold weight */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Bold-trial.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Semilight regular (non-italic) */
@font-face {
  font-family: 'Cocogoose';
  src: url('/fonts/Cocogoose-Pro-Semilight-trial.ttf') format('truetype');
  font-weight: 350;
  font-style: normal;
  font-display: swap;
}

/* Keep letterpress as a special decorative variant */
@font-face {
  font-family: 'CocogooseLetterpress';
  src: url('/fonts/Cocogoose-Pro-Letterpress-Regular-trial.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

.mb-8 {
    margin-top: 2rem;
}
/* Reigh App Styles */
@layer base {
  :root {
    /* ========================================= */
    /* DECORATIVE PALETTE                        */
    /* Static colors for gradients, accents,     */
    /* badges - DO NOT change with dark mode     */
    /* ========================================= */
    --wes-pink: 333 30% 93%;
    --wes-pink-dark: 333 25% 82%;
    --wes-yellow: 48 85% 88%;
    --wes-yellow-dark: 48 65% 75%;
    --wes-mint: 145 35% 85%;
    --wes-mint-dark: 145 30% 70%;
    --wes-lavender: 280 35% 88%;
    --wes-lavender-dark: 280 25% 75%;
    --wes-cream: 120 25% 92%;
    --wes-salmon: 15 60% 85%;
    --wes-sage: 120 20% 80%;
    --wes-dusty-blue: 210 35% 82%;
    --wes-burgundy: 25 70% 35%;
    --wes-forest: 150 30% 25%;
    --wes-coral: 10 70% 82%;
    --wes-mustard: 45 80% 70%;
    --wes-teal: 180 40% 75%;
    --wes-vintage-gold: 40 60% 80%;
    /* Aliases for clarity */
    --wes-soft-pink: 333 30% 93%;
    --wes-soft-pink-dark: 333 25% 82%;
    --wes-pale-yellow: 48 85% 88%;
    --wes-pale-yellow-dark: 48 65% 75%;
    --wes-mint-green: 145 35% 85%;
    --wes-mint-green-dark: 145 30% 70%;
    --wes-dusty-lavender: 280 35% 88%;
    --wes-dusty-lavender-dark: 280 25% 75%;
    --wes-pastel-cream: 120 25% 92%;
    --wes-coral-salmon: 15 60% 85%;
    --wes-sage-green: 120 20% 80%;
    --wes-dark-orange: 25 70% 35%;
    --wes-forest-green: 150 30% 25%;
    --wes-warm-coral: 10 70% 82%;
    --wes-vintage-mustard: 45 80% 70%;
    --wes-muted-teal: 180 40% 75%;

    /* ========================================= */
    /* TYPOGRAPHY                                */
    /* ========================================= */
    --theme-font-family: 'Crimson Text', serif;
    --theme-heading-font: 'TTGertika', sans-serif;
    --theme-heading-weight: 700;
    --theme-body-weight: 600;
    --theme-light-weight: 600;
    --theme-medium-weight: 700;
    --theme-bold-weight: 800;

    /* ========================================= */
    /* SEMANTIC COLORS - LIGHT MODE              */
    /* These change with dark mode               */
    /* ========================================= */
    
    /* Core backgrounds */
    --background: 120 25% 92%;              /* Pastel Green */
    --foreground: 25 70% 35%;               /* Dark Warm Orange */
    
    /* Cards & Popovers */
    --card: 0 0% 100%;                      /* White */
    --card-foreground: 150 30% 25%;         /* Forest */
    --popover: 0 0% 100%;
    --popover-foreground: 150 30% 25%;
    
    /* Primary action color */
    --primary: 25 70% 35%;                  /* Dark Warm Orange */
    --primary-foreground: 120 25% 92%;      /* Pastel Green */
    
    /* Secondary */
    --secondary: 210 35% 82%;               /* Dusty Blue */
    --secondary-foreground: 25 70% 35%;     /* Dark Warm Orange */
    
    /* Muted/subtle */
    --muted: 120 20% 80%;                   /* Sage */
    --muted-foreground: 150 30% 25%;        /* Forest */
    
    /* Accent */
    --accent: 333 30% 93%;                  /* Soft Pink */
    --accent-foreground: 25 70% 35%;        /* Dark Warm Orange */
    
    /* Destructive */
    --destructive: 0 70% 60%;
    --destructive-foreground: 0 0% 100%;
    
    /* Borders & Inputs */
    --border: 120 20% 80%;                  /* Sage */
    --input: 145 35% 85%;                   /* Mint */
    --ring: 25 70% 35%;                     /* Dark Warm Orange */
    
    /* Sidebar */
    --sidebar-background: 333 30% 93%;      /* Soft Pink */
    --sidebar-foreground: 150 30% 25%;      /* Forest */
    --sidebar-primary: 40 60% 80%;          /* Vintage Gold */
    --sidebar-primary-foreground: 150 30% 25%;
    --sidebar-accent: 40 60% 80%;
    --sidebar-accent-foreground: 150 30% 25%;
    --sidebar-border: 25 75% 25%;
    --sidebar-ring: 40 60% 80%;
    
    /* Icon colors */
    --icon-primary: 25 70% 35%;             /* Dark Warm Orange */
    --icon-secondary: 40 60% 80%;           /* Vintage Gold */
    --icon-muted: 210 35% 82%;              /* Dusty Blue */
    --icon-interactive: 333 30% 93%;        /* Soft Pink */
    --icon-success: 150 30% 25%;            /* Forest */
    --icon-warning: 40 60% 80%;             /* Vintage Gold */
    --icon-danger: 0 70% 60%;               /* Red */

    --radius: 0.75rem;
  }

  .dark {
    /* ========================================= */
    /* SEMANTIC COLORS - DARK MODE               */
    /* ========================================= */
    
    /* Wes Anderson palette - darker/more saturated for dark mode */
    --wes-vintage-gold: 40 65% 50%;         /* Richer gold */
    --wes-coral: 10 70% 55%;                /* Warmer coral */
    
    /* Core backgrounds - subtle green tint, not overwhelming */
    --background: 150 12% 10%;              /* Dark with subtle green */
    --foreground: 45 20% 88%;               /* Warm cream white */
    
    /* Cards & Popovers - warmer, clear depth separation */
    --card: 140 8% 15%;                     /* Elevated, hint of green */
    --card-foreground: 45 20% 88%;
    --popover: 130 6% 18%;                  /* Highest elevation */
    --popover-foreground: 45 20% 88%;
    
    /* Primary - vintage gold */
    --primary: 40 55% 58%;                  /* Warm gold */
    --primary-foreground: 150 20% 10%;
    
    /* Secondary - dusty blue as cool counter-hue */
    --secondary: 210 20% 28%;               /* Cool dusty blue */
    --secondary-foreground: 210 25% 85%;
    
    /* Muted/subtle - cooler for contrast with green */
    --muted: 200 10% 18%;                   /* Blue-gray muted */
    --muted-foreground: 200 8% 55%;
    
    /* Accent - dusty rose */
    --accent: 333 22% 52%;                  /* Dusty rose */
    --accent-foreground: 150 12% 10%;
    
    /* Destructive */
    --destructive: 0 60% 45%;
    --destructive-foreground: 0 0% 100%;
    
    /* Borders & Inputs */
    --border: 150 8% 22%;                   /* Green-tinted border */
    --input: 140 8% 16%;
    --ring: 40 55% 58%;
    
    /* Sidebar - signature forest green */
    --sidebar-background: 150 25% 12%;      /* Forest green sidebar */
    --sidebar-foreground: 45 20% 88%;
    --sidebar-primary: 40 55% 58%;
    --sidebar-primary-foreground: 150 25% 10%;
    --sidebar-accent: 150 20% 22%;          /* Lighter forest for hover */
    --sidebar-accent-foreground: 45 20% 90%;
    --sidebar-border: 150 18% 18%;
    --sidebar-ring: 40 55% 58%;
    
    /* Icon colors for dark mode */
    --icon-primary: 40 55% 60%;             /* Warm gold */
    --icon-secondary: 210 25% 65%;          /* Dusty blue (cool counter-hue) */
    --icon-muted: 150 10% 45%;              /* Muted forest */
    --icon-interactive: 40 50% 70%;
    --icon-success: 150 30% 45%;            /* Forest green */
    --icon-danger: 0 55% 50%;
    --icon-warning: 45 70% 55%;             /* Mustard */
  }
}

@layer base {
  * {
    @apply border-border;
    text-transform: lowercase !important;
  }

  body {
    @apply text-foreground font-cocogoose font-light antialiased;
    font-family: 'Cocogoose', 'CocogooseNumbers', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: hsl(var(--background));
    /* Removed decorative gradients that were creating visible grid artifacts */
    letter-spacing: 0.015em;
    position: relative;
  }


  h1, h2, h3, h4, h5, h6 {
    font-family: var(--theme-heading-font, 'TTGertika', sans-serif);
    font-weight: var(--theme-heading-weight, 700);
    letter-spacing: 0.02em;
    position: relative;
  }
  
  body {
    font-family: var(--theme-font-family, 'Cocogoose', 'Inter', sans-serif) !important;
    font-weight: var(--theme-body-weight, 350) !important;
  }
  
  /* Force numbers to use system fonts since Cocogoose trial doesn't include them */
  .font-cocogoose {
    font-family: 'Cocogoose', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  }

  /* Override for any element containing numbers - force system font for digits */
  [class*="font-cocogoose"] {
    font-variant-numeric: tabular-nums;
  }

  /* Specific CSS to force numbers to use fallback fonts */
  .font-cocogoose::before,
  .font-cocogoose::after,
  .font-cocogoose {
    unicode-bidi: isolate;
  }

  /* Emergency fallback: Use Inter for any text containing numbers */
  .force-numbers {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  }

  /* Theme-adaptive shadows */
  .shadow-theme {
    box-shadow: 
      0 10px 25px -5px hsl(var(--primary) / 0.15),
      0 4px 6px -2px hsl(var(--primary) / 0.08),
      inset 0 1px 0 hsl(var(--accent) / 0.3),
      0 0 0 1px hsl(var(--wes-vintage-gold) / 0.1);
  }

  .shadow-theme-hover {
    box-shadow: 
      0 20px 40px -10px hsl(var(--primary) / 0.2),
      0 8px 12px -4px hsl(var(--primary) / 0.15),
      inset 0 1px 0 hsl(var(--accent) / 0.4),
      0 0 0 2px hsl(var(--wes-vintage-gold) / 0.2),
      0 0 30px hsl(var(--wes-pink) / 0.1);
  }

  /* Legacy aliases for backward compatibility */
  .shadow-lala { @apply shadow-theme; }
  .shadow-lala-hover { @apply shadow-theme-hover; }

  /* ========================================= */
  /* THEME-ADAPTIVE ICON COLORS */
  /* ========================================= */
  
  /* Primary icon colors - for main navigation, important actions */
  .icon-primary {
    color: hsl(var(--icon-primary));
  }
  
  .icon-primary svg {
    fill: hsl(var(--icon-primary));
    stroke: hsl(var(--icon-primary));
  }
  
  /* Secondary icon colors - for accent elements, highlights */
  .icon-secondary {
    color: hsl(var(--icon-secondary));
  }
  
  .icon-secondary svg {
    fill: hsl(var(--icon-secondary));
    stroke: hsl(var(--icon-secondary));
  }
  
  /* Muted icon colors - for subtle, background icons */
  .icon-muted {
    color: hsl(var(--icon-muted));
  }
  
  .icon-muted svg {
    fill: hsl(var(--icon-muted));
    stroke: hsl(var(--icon-muted));
  }
  
  /* Interactive icon colors - for buttons, clickable elements */
  .icon-interactive {
    color: hsl(var(--icon-interactive));
    transition: color 0.2s ease, transform 0.2s ease;
  }
  
  .icon-interactive:hover {
    color: hsl(var(--icon-interactive) / 0.8);
    transform: scale(1.1);
  }
  
  .icon-interactive svg {
    fill: hsl(var(--icon-interactive));
    stroke: hsl(var(--icon-interactive));
    transition: fill 0.2s ease, stroke 0.2s ease;
  }
  
  .icon-interactive:hover svg {
    fill: hsl(var(--icon-interactive) / 0.8);
    stroke: hsl(var(--icon-interactive) / 0.8);
  }
  
  /* Success state icons - for completed actions, positive feedback */
  .icon-success {
    color: hsl(var(--icon-success));
  }
  
  .icon-success svg {
    fill: hsl(var(--icon-success));
    stroke: hsl(var(--icon-success));
  }
  
  /* Warning state icons - for cautionary messages */
  .icon-warning {
    color: hsl(var(--icon-warning));
  }
  
  .icon-warning svg {
    fill: hsl(var(--icon-warning));
    stroke: hsl(var(--icon-warning));
  }
  
  /* Danger state icons - for destructive actions, errors */
  .icon-danger {
    color: hsl(var(--icon-danger));
  }
  
  .icon-danger svg {
    fill: hsl(var(--icon-danger));
    stroke: hsl(var(--icon-danger));
  }
  
  /* Utility classes for icon sizing with theme colors */
  .icon-sm { width: 1rem; height: 1rem; }
  .icon-md { width: 1.5rem; height: 1.5rem; }
  .icon-lg { width: 2rem; height: 2rem; }
  .icon-xl { width: 2.5rem; height: 2.5rem; }

  /* ========================================= */
  /* SELECTIVE ICON COLOR OVERRIDES */
  /* ========================================= */
  
  /* Only override icons that explicitly use theme classes */
  .icon-theme-primary {
    color: hsl(var(--icon-primary)) !important;
  }
  
  .icon-theme-secondary {
    color: hsl(var(--icon-secondary)) !important;
  }
  
  /* Keep default white/inherit behavior for most icons */
  .text-white {
    color: white !important;
  }
  
  /* Preserve existing icon colors by default */
  svg {
    color: inherit;
  }

  /* ========================================= */
  /* THEME-ADAPTIVE GRADIENTS */
  /* ========================================= */
  
  /* Primary gradient for collapsed form buttons */
  .gradient-primary-collapsed {
    background: linear-gradient(to right, 
      hsl(var(--primary) / 0.6), 
      hsl(var(--wes-pink) / 0.6), 
      hsl(var(--wes-vintage-gold) / 0.6)
    );
    border: 1px solid hsl(var(--primary) / 0.8);
  }
  
  .gradient-primary-collapsed:hover {
    background: linear-gradient(to right, 
      hsl(var(--primary) / 0.7), 
      hsl(var(--wes-pink) / 0.7), 
      hsl(var(--wes-vintage-gold) / 0.7)
    );
  }
  
  /* Dark mode: toned down for subtlety */
  .dark .gradient-primary-collapsed {
    background: linear-gradient(to right, 
      hsl(var(--primary) / 0.45), 
      hsl(var(--wes-coral) / 0.4), 
      hsl(var(--wes-vintage-gold) / 0.45)
    );
    border: 1px solid hsl(var(--primary) / 0.5);
  }
  
  .dark .gradient-primary-collapsed:hover {
    background: linear-gradient(to right, 
      hsl(var(--primary) / 0.55), 
      hsl(var(--wes-coral) / 0.5), 
      hsl(var(--wes-vintage-gold) / 0.55)
    );
  }
  
  /* Subtle gradient for expanded form buttons */
  .gradient-primary-expanded {
    background: linear-gradient(to right, 
      hsl(var(--secondary) / 0.2), 
      hsl(var(--wes-pink) / 0.2), 
      hsl(var(--wes-vintage-gold) / 0.2)
    );
    border: 1px solid hsl(var(--primary) / 0.4);
  }
  
  .gradient-primary-expanded:hover {
    background: linear-gradient(to right, 
      hsl(var(--secondary) / 0.3), 
      hsl(var(--wes-pink) / 0.3), 
      hsl(var(--wes-vintage-gold) / 0.3)
    );
  }
  
  /* Theme-adaptive sparkle color */
  .sparkle-accent {
    color: hsl(var(--wes-vintage-gold)) !important;
  }

  /* ========================================= */
  /* DYNAMIC THEME-ADAPTIVE UTILITY CLASSES */
  /* ========================================= */
  
  /* Background colors */
  .bg-theme-primary { background-color: hsl(var(--primary)); }
  .bg-theme-secondary { background-color: hsl(var(--secondary)); }
  .bg-theme-accent { background-color: hsl(var(--wes-vintage-gold)); }
  .bg-theme-surface { background-color: hsl(var(--background)); }
  .bg-theme-tertiary { background-color: hsl(var(--wes-pink)); }
  .bg-theme-neutral { background-color: hsl(var(--foreground)); }
  
  /* Background colors with opacity */
  .bg-theme-primary\/10 { background-color: hsl(var(--primary) / 0.1); }
  .bg-theme-primary\/20 { background-color: hsl(var(--primary) / 0.2); }
  .bg-theme-secondary\/10 { background-color: hsl(var(--secondary) / 0.1); }
  .bg-theme-secondary\/20 { background-color: hsl(var(--secondary) / 0.2); }
  .bg-theme-accent\/10 { background-color: hsl(var(--wes-vintage-gold) / 0.1); }
  .bg-theme-accent\/20 { background-color: hsl(var(--wes-vintage-gold) / 0.2); }
  .bg-theme-tertiary\/10 { background-color: hsl(var(--wes-pink) / 0.1); }
  .bg-theme-tertiary\/20 { background-color: hsl(var(--wes-pink) / 0.2); }
  
  /* Text colors */
  .text-theme-primary { color: hsl(var(--primary)); }
  .text-theme-secondary { color: hsl(var(--secondary)); }
  .text-theme-accent { color: hsl(var(--wes-vintage-gold)); }
  .text-theme-surface { color: hsl(var(--background)); }
  .text-theme-tertiary { color: hsl(var(--wes-pink)); }
  .text-theme-neutral { color: hsl(var(--foreground)); }
  
  /* Border colors */
  .border-theme-primary { border-color: hsl(var(--primary)); }
  .border-theme-secondary { border-color: hsl(var(--secondary)); }
  .border-theme-accent { border-color: hsl(var(--wes-vintage-gold)); }
  .border-theme-tertiary { border-color: hsl(var(--wes-pink)); }
  
  /* Gradient utilities */
  .from-theme-primary { --tw-gradient-from: hsl(var(--primary)) var(--tw-gradient-from-position); }
  .from-theme-secondary { --tw-gradient-from: hsl(var(--secondary)) var(--tw-gradient-from-position); }
  .from-theme-accent { --tw-gradient-from: hsl(var(--wes-vintage-gold)) var(--tw-gradient-from-position); }
  .from-theme-surface { --tw-gradient-from: hsl(var(--background)) var(--tw-gradient-from-position); }
  .from-theme-tertiary { --tw-gradient-from: hsl(var(--wes-pink)) var(--tw-gradient-from-position); }
  
  .to-theme-primary { --tw-gradient-to: hsl(var(--primary)) var(--tw-gradient-to-position); }
  .to-theme-secondary { --tw-gradient-to: hsl(var(--secondary)) var(--tw-gradient-to-position); }
  .to-theme-accent { --tw-gradient-to: hsl(var(--wes-vintage-gold)) var(--tw-gradient-to-position); }
  .to-theme-surface { --tw-gradient-to: hsl(var(--background)) var(--tw-gradient-to-position); }
  .to-theme-tertiary { --tw-gradient-to: hsl(var(--wes-pink)) var(--tw-gradient-to-position); }

  /* ========================================= */
  /* THEME-ADAPTIVE TYPOGRAPHY UTILITIES */
  /* ========================================= */
  
  /* Font family utilities */
  .font-theme { font-family: var(--theme-font-family, 'Inter', sans-serif); }
  .font-heading { font-family: var(--theme-heading-font, 'TTGertika', sans-serif); }
  
  /* Font weight utilities - adapt to current theme */
  .font-theme-light { font-weight: var(--theme-light-weight, 300); }
  .font-theme-body { font-weight: var(--theme-body-weight, 400); }
  .font-theme-medium { font-weight: var(--theme-medium-weight, 500); }
  .font-theme-heading { font-weight: var(--theme-heading-weight, 600); }
  .font-theme-bold { font-weight: var(--theme-bold-weight, 700); }
  
  /* Override existing font-light classes to be theme-adaptive */
  .font-light {
    font-weight: var(--theme-light-weight, 300) !important;
  }
  
  .font-medium {
    font-weight: var(--theme-medium-weight, 400) !important;
  }
  
  .font-semibold {
    font-weight: var(--theme-heading-weight, 350) !important;
  }

  /* Decorative frame elements */
  .wes-frame {
    @apply relative;
  }
  
  .wes-frame::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    border: 3px solid hsl(var(--primary) / 0.15);
    border-radius: inherit;
    box-shadow: 
      inset 0 0 0 2px hsl(var(--background)),
      inset 0 0 0 6px hsl(var(--accent) / 0.1),
      0 0 0 1px hsl(var(--primary) / 0.1);
  }

  .wes-ornate-frame {
    @apply relative;
  }

  .wes-ornate-frame::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    border: 4px solid hsl(var(--primary) / 0.2);
    border-radius: inherit;
    border-image: linear-gradient(45deg, 
      hsl(var(--wes-vintage-gold)), 
      hsl(var(--wes-dusty-lavender)), 
      hsl(var(--wes-dusty-blue)), 
      hsl(var(--wes-vintage-gold))
    ) 1;
    box-shadow: 
      inset 0 0 0 2px hsl(var(--background)),
      inset 0 0 0 8px hsl(var(--accent) / 0.08),
      inset 0 0 0 12px hsl(var(--wes-vintage-gold) / 0.05),
      0 2px 20px hsl(var(--primary) / 0.15);
  }

  .wes-ornate-frame::after {
    content: '';
    @apply absolute inset-2 pointer-events-none;
    background: 
      radial-gradient(circle at 10px 10px, hsl(var(--wes-vintage-gold) / 0.1) 1px, transparent 1px),
      radial-gradient(circle at 25px 25px, hsl(var(--wes-dusty-lavender) / 0.1) 1px, transparent 1px);
    background-size: 20px 20px, 50px 50px;
    border-radius: inherit;
  }

  .wes-symmetry {
    @apply flex flex-col items-center text-center;
  }

  .wes-card {
    @apply backdrop-blur-sm border-2 border-primary/10 rounded-xl shadow-lg relative;
    background: hsl(var(--card) / 0.9);
    box-shadow: 
      0 10px 25px -5px hsl(var(--primary) / 0.1),
      0 4px 6px -2px hsl(var(--primary) / 0.05),
      inset 0 1px 0 hsl(var(--accent) / 0.2),
      inset 0 0 0 1px hsl(var(--accent) / 0.1);
  }
  
  .dark .wes-card {
    background: hsl(var(--card) / 0.95);
    box-shadow: 
      0 10px 25px -5px hsl(var(--primary) / 0.2),
      0 4px 6px -2px hsl(var(--primary) / 0.1),
      inset 0 1px 0 hsl(45 30% 70% / 0.08),
      inset 0 0 0 1px hsl(210 15% 40% / 0.15);
  }
  
  /* ========================================= */
  /* DARK MODE CARD DEPTH REFINEMENTS          */
  /* Cards need inner highlight + hue shift    */
  /* ========================================= */
  
  /* Default cards in dark mode - add inner highlight and cooler hue */
  .dark .bg-card,
  .dark [class*="bg-card"] {
    /* Slight blue shift from background (210° vs 150°) */
    box-shadow: 
      inset 0 1px 0 hsl(45 25% 60% / 0.06),
      inset 0 0 0 1px hsl(210 12% 35% / 0.12);
  }
  
  /* Elevated cards (popovers, modals, dropdowns) */
  .dark [data-radix-popper-content-wrapper] > *,
  .dark [data-radix-dialog-content],
  .dark [data-radix-select-content] {
    box-shadow: 
      0 8px 30px -8px hsl(0 0% 0% / 0.5),
      inset 0 1px 0 hsl(45 30% 65% / 0.08),
      inset 0 0 0 1px hsl(210 15% 40% / 0.15);
  }

  .wes-card::before {
    content: '';
    @apply absolute inset-0 rounded-xl pointer-events-none;
    background: 
      linear-gradient(135deg, transparent 25%, hsl(var(--wes-lavender) / 0.03) 25%, hsl(var(--wes-lavender) / 0.03) 50%, transparent 50%),
      linear-gradient(45deg, transparent 25%, hsl(var(--wes-vintage-gold) / 0.02) 25%, hsl(var(--wes-vintage-gold) / 0.02) 50%);
    background-size: 30px 30px, 40px 40px;
  }

  .wes-vintage-card {
    @apply wes-card;
    background: 
      linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--accent) / 0.15) 100%),
      radial-gradient(circle at top right, hsl(var(--accent) / 0.1), transparent 50%),
      radial-gradient(circle at bottom left, hsl(var(--secondary) / 0.1), transparent 50%);
    position: relative;
  }

  .wes-vintage-card::after {
    content: '';
    @apply absolute inset-0;
    border-radius: inherit;
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 2px,
        hsl(var(--primary) / 0.03) 2px,
        hsl(var(--primary) / 0.03) 4px
      );
    pointer-events: none;
  }
  
  .dark .wes-vintage-card {
    background: 
      linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--accent) / 0.1) 100%),
      radial-gradient(circle at top right, hsl(var(--accent) / 0.08), transparent 50%),
      radial-gradient(circle at bottom left, hsl(var(--secondary) / 0.08), transparent 50%);
  }
  
  .dark .wes-vintage-card::after {
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 2px,
        hsl(var(--primary) / 0.05) 2px,
        hsl(var(--primary) / 0.05) 4px
      );
  }

  .wes-button {
    @apply relative overflow-hidden transition-all duration-300 ease-out;
    @apply bg-gradient-to-r from-primary to-primary/90;
    @apply hover:from-primary/90 hover:to-primary;
    @apply shadow-lg hover:shadow-xl;
    @apply border-2 border-primary/20;
    box-shadow: 
      0 4px 14px 0 hsl(var(--primary) / 0.15),
      inset 0 1px 0 hsl(var(--primary-foreground) / 0.2),
      inset 0 0 0 1px hsl(var(--wes-vintage-gold) / 0.3);
  }

  .wes-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply translate-x-[-100%] transition-transform duration-700;
  }

  .wes-button:hover::before {
    @apply translate-x-[100%];
  }

  /* Subtle variant for project settings */
  .wes-button-subtle {
    position: relative;
    overflow: hidden;
  }

  .wes-button-subtle::before {
    content: '';
    @apply absolute inset-0;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.08), transparent);
    @apply translate-x-[-100%];
    transition: transform 900ms ease-out;
    pointer-events: none;
  }

  .wes-button-subtle:hover::before {
    @apply translate-x-[100%];
  }

  /* Dark mode adaptive icon button gradients */
  .gradient-icon-coral {
    background: linear-gradient(to bottom right, hsl(var(--wes-coral)), hsl(var(--wes-salmon)));
  }
  .dark .gradient-icon-coral {
    background: linear-gradient(to bottom right, hsl(var(--wes-coral) / 0.7), hsl(var(--wes-salmon) / 0.7));
  }
  .gradient-icon-coral:hover {
    background: linear-gradient(to bottom right, hsl(var(--wes-coral-dark)), hsl(var(--wes-salmon)));
  }
  
  .gradient-icon-yellow {
    background: linear-gradient(to bottom right, hsl(var(--wes-yellow)), hsl(var(--wes-salmon)));
  }
  .dark .gradient-icon-yellow {
    background: linear-gradient(to bottom right, hsl(var(--wes-vintage-gold) / 0.8), hsl(var(--wes-salmon) / 0.7));
  }
  .gradient-icon-yellow:hover {
    background: linear-gradient(to bottom right, hsl(var(--wes-yellow-dark)), hsl(var(--wes-salmon)));
  }
  
  .gradient-icon-blue {
    background: linear-gradient(to bottom right, hsl(var(--wes-dusty-blue)), hsl(var(--wes-lavender)));
  }
  .dark .gradient-icon-blue {
    background: linear-gradient(to bottom right, hsl(var(--wes-dusty-blue) / 0.7), hsl(var(--wes-lavender) / 0.7));
  }
  .gradient-icon-blue:hover {
    background: linear-gradient(to bottom right, hsl(var(--wes-dusty-blue-dark)), hsl(var(--wes-lavender-dark)));
  }
  
  .gradient-icon-mint {
    background: linear-gradient(to bottom right, hsl(var(--wes-mint)), hsl(var(--wes-sage)));
  }
  .dark .gradient-icon-mint {
    background: linear-gradient(to bottom right, hsl(var(--wes-mint) / 0.7), hsl(var(--wes-sage) / 0.7));
  }
  
  .gradient-icon-gold {
    background: linear-gradient(to bottom right, hsl(var(--wes-vintage-gold)), hsl(var(--wes-mustard)));
  }
  .dark .gradient-icon-gold {
    background: linear-gradient(to bottom right, hsl(var(--wes-vintage-gold) / 0.8), hsl(var(--wes-mustard) / 0.7));
  }
  
  /* Dark mode: Reduce intensity of all wes- gradients for icon containers */
  .dark .shadow-wes-deep[class*="bg-gradient"][class*="from-wes-"],
  .dark .shadow-sm[class*="bg-gradient"][class*="from-wes-"] {
    filter: brightness(0.75) saturate(0.85);
  }
  .dark .shadow-wes-deep[class*="bg-gradient"][class*="from-wes-"]:hover,
  .dark .shadow-sm[class*="bg-gradient"][class*="from-wes-"]:hover {
    filter: brightness(0.85) saturate(0.9);
  }

  .wes-button::after {
    content: '';
    @apply absolute inset-0;
    border-radius: inherit;
    background: 
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 1px,
        hsl(var(--primary-foreground) / 0.05) 1px,
        hsl(var(--primary-foreground) / 0.05) 2px
      );
    pointer-events: none;
  }

  .wes-grid {
    @apply grid gap-8;
    /* Perfect symmetrical spacing */
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  /* Enhanced vintage paper texture overlay */
  .wes-texture {
    position: relative;
  }
  
  .wes-texture::after {
    /* DISABLED - investigating golden grid issue */
    display: none;
  }

  /* Enhanced geometric patterns */
  .wes-pattern {
    background-image: 
      linear-gradient(45deg, hsl(var(--accent)) 25%, transparent 25%),
      linear-gradient(-45deg, hsl(var(--accent)) 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, hsl(var(--accent)) 75%),
      linear-gradient(-45deg, transparent 75%, hsl(var(--accent)) 75%),
      radial-gradient(circle at 50% 50%, hsl(var(--wes-vintage-gold) / 0.1) 2px, transparent 2px);
    background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px, 30px 30px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px, 15px 15px;
    opacity: 0.03;
  }

  .wes-chevron-pattern {
    background-image: 
      linear-gradient(45deg, transparent 40%, hsl(var(--wes-dusty-lavender) / 0.1) 40%, hsl(var(--wes-dusty-lavender) / 0.1) 60%, transparent 60%),
      linear-gradient(-45deg, transparent 40%, hsl(var(--wes-dusty-blue) / 0.1) 40%, hsl(var(--wes-dusty-blue) / 0.1) 60%, transparent 60%);
    background-size: 16px 16px;
    background-position: 0 0, 8px 8px;
  }

  .wes-diamond-pattern {
    background-image: 
      linear-gradient(45deg, hsl(var(--wes-vintage-gold) / 0.08) 25%, transparent 25%), 
      linear-gradient(-45deg, hsl(var(--wes-vintage-gold) / 0.08) 25%, transparent 25%), 
      linear-gradient(45deg, transparent 75%, hsl(var(--wes-vintage-gold) / 0.08) 75%), 
      linear-gradient(-45deg, transparent 75%, hsl(var(--wes-vintage-gold) / 0.08) 75%);
    background-size: 24px 24px;
    background-position: 0 0, 0 12px, 12px -12px, -12px 0px;
  }

  /* Art Deco inspired patterns */
  .wes-deco-pattern {
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 8px,
        hsl(var(--wes-vintage-gold) / 0.06) 8px,
        hsl(var(--wes-vintage-gold) / 0.06) 16px,
        transparent 16px,
        transparent 24px,
        hsl(var(--wes-dusty-lavender) / 0.04) 24px,
        hsl(var(--wes-dusty-lavender) / 0.04) 32px
      );
  }

  /* Film strip effect */
  .wes-filmstrip {
    position: relative;
  }

  .wes-filmstrip::before {
    content: '';
    position: absolute;
    left: -20px;
    top: 0;
    bottom: 0;
    width: 16px;
    background: 
      linear-gradient(to bottom, 
        hsl(var(--primary)) 10px, 
        transparent 10px, 
        transparent 20px, 
        hsl(var(--primary)) 20px
      );
    background-size: 100% 30px;
    border-right: 2px solid hsl(var(--primary));
    opacity: 0.3;
  }

  .wes-filmstrip::after {
    content: '';
    position: absolute;
    right: -20px;
    top: 0;
    bottom: 0;
    width: 16px;
    background: 
      linear-gradient(to bottom, 
        hsl(var(--primary)) 10px, 
        transparent 10px, 
        transparent 20px, 
        hsl(var(--primary)) 20px
      );
    background-size: 100% 30px;
    border-left: 2px solid hsl(var(--primary));
    opacity: 0.3;
  }

  /* Vintage viewfinder effect */
  .wes-viewfinder {
    position: relative;
  }

  .wes-viewfinder::before {
    content: '';
    position: absolute;
    inset: 10px;
    border: 2px solid hsl(var(--primary) / 0.3);
    border-radius: 50%;
    box-shadow: 
      inset 0 0 0 4px hsl(var(--background)),
      inset 0 0 0 6px hsl(var(--primary) / 0.1),
      0 0 20px hsl(var(--primary) / 0.2);
    pointer-events: none;
  }

  .wes-viewfinder::after {
    content: '+';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    color: hsl(var(--primary) / 0.3);
    pointer-events: none;
    font-weight: 300;
  }

  /* Typewriter effect */
  .wes-typewriter {
    overflow: hidden;
    border-right: 2px solid hsl(var(--primary));
    white-space: nowrap;
    animation: typewriter 3s steps(40, end), blink-caret 0.75s step-end infinite;
  }

  /* Vintage badge */
  .wes-badge {
    position: relative;
    border-radius: 50%;
  }
  
  /* Light mode: visible rings */
  .wes-badge {
    box-shadow:
      0 0 0 2px hsl(var(--wes-vintage-gold) / 0.2),
      0 4px 8px hsl(var(--primary) / 0.15);
  }
  
  /* Dark mode: subtle rings */
  .dark .wes-badge {
    box-shadow:
      0 0 0 2px hsl(var(--wes-vintage-gold) / 0.3),
      0 4px 8px hsl(var(--primary) / 0.3);
  }

  /* Corner decorations disabled */
  .wes-corners {
    position: relative;
  }

  /* Vintage polaroid effect */
  .wes-polaroid {
    background: hsl(var(--card));
    padding: 12px 12px 40px 12px;
    box-shadow: 
      0 4px 8px hsl(var(--primary) / 0.1),
      0 0 0 1px hsl(var(--primary) / 0.05),
      inset 0 0 0 1px hsl(var(--primary) / 0.1);
    /* Removed default rotation to keep cards straight */
    transform: none;
    transition: transform 0.3s ease;
  }
  
  .dark .wes-polaroid {
    box-shadow: 
      0 4px 8px hsl(var(--primary) / 0.2),
      0 0 0 1px hsl(var(--primary) / 0.1),
      inset 0 0 0 1px hsl(var(--primary) / 0.15);
  }

  .wes-polaroid:hover {
    /* Subtle scale on hover without rotation */
    transform: scale(1.05);
  }

  .wes-polaroid::after {
    content: '';
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 2px;
    background: linear-gradient(to right, transparent, hsl(var(--primary) / 0.3), transparent);
  }
}

@layer base {
  /* Eliminate the 300 ms mobile tap-delay everywhere (still allows pinch-zoom) */
  body {
    touch-action: manipulation;
  }
}

/* ========================================= */
/* NEW SHOT ZONE - "Moment of Creation"      */
/* Soft glow on hover, subtle accent tint    */
/* ========================================= */

.new-group-drop-zone {
  transition: all 0.25s ease-out;
}

.new-group-drop-zone:hover {
  border-color: hsl(var(--wes-vintage-gold) / 0.5) !important;
  background: linear-gradient(
    135deg,
    hsl(var(--wes-vintage-gold) / 0.08) 0%,
    hsl(150 20% 20% / 0.1) 100%
  ) !important;
  box-shadow: 
    0 0 20px hsl(var(--wes-vintage-gold) / 0.15),
    inset 0 1px 0 hsl(var(--wes-vintage-gold) / 0.1);
  transform: scale(1.02);
}

.new-group-drop-zone:hover p {
  color: hsl(var(--wes-vintage-gold)) !important;
}

/* Plus icon container - subtle idle pulse */
.new-group-drop-zone .plus-icon-container {
  animation: subtle-plus-pulse 3s ease-in-out infinite;
}

@keyframes subtle-plus-pulse {
  0%, 100% { 
    opacity: 0.7;
    transform: scale(1);
  }
  50% { 
    opacity: 0.85;
    transform: scale(1.05);
  }
}

/* On hover, stop idle pulse and apply glow */
.new-group-drop-zone:hover .plus-icon-container {
  animation: none;
  opacity: 1;
  transform: scale(1.1);
}

/* Plus icon glow effect for create buttons in dark mode */
.dark .new-group-drop-zone:hover svg,
.dark [class*="create"]:hover svg,
.dark [aria-label*="create"]:hover svg {
  filter: drop-shadow(0 0 6px hsl(var(--wes-vintage-gold) / 0.7));
}

/* ========================================= */
/* TEXT HIERARCHY REFINEMENTS               */
/* Sharper distinction between levels        */
/* ========================================= */

/* Shot titles - more prominent */
.dark .shot-title,
.dark [class*="shot-name"],
.dark h3[class*="font-light"] {
  letter-spacing: 0.02em;
  font-weight: 500;
}

/* Section headers - bolder, wider spacing */
.dark .section-header,
.dark [class*="text-xl"],
.dark h2 {
  letter-spacing: 0.03em;
  font-weight: 600;
}

/* Metadata/labels - smaller, more muted */
.dark .metadata,
.dark .label,
.dark [class*="text-xs"][class*="text-muted"],
.dark [class*="text-sm"][class*="text-zinc-400"] {
  letter-spacing: 0.01em;
  font-weight: 400;
}

/* Shot group cards - icons dim until card hover */
.dark .shot-group button {
  transition: opacity 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
}

.dark .shot-group:hover button {
  opacity: 1 !important;
}

@layer components {
  .wes-header {
    @apply wes-symmetry backdrop-blur-md relative;
    background: 
      linear-gradient(90deg, hsl(var(--background)) 0%, hsl(var(--wes-dusty-lavender) / 0.3) 50%, hsl(var(--background)) 100%),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 100px,
        hsl(var(--wes-vintage-gold) / 0.05) 100px,
        hsl(var(--wes-vintage-gold) / 0.05) 102px
      );
    border-bottom: 1px solid hsl(var(--wes-vintage-gold) / 0.5);
    box-shadow: 0 1px 3px hsl(var(--primary) / 0.1);
  }
  
  .dark .wes-header {
    border-bottom: 1px solid hsl(var(--wes-vintage-gold) / 0.3);
    box-shadow: 0 1px 4px hsl(0 0% 0% / 0.3);
  }

  .dark .wes-header {
    background: 
      linear-gradient(90deg, hsl(var(--background)) 0%, hsl(210 20% 18% / 0.6) 30%, hsl(var(--wes-vintage-gold) / 0.08) 50%, hsl(210 20% 18% / 0.6) 70%, hsl(var(--background)) 100%),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 80px,
        hsl(var(--wes-vintage-gold) / 0.04) 80px,
        hsl(var(--wes-vintage-gold) / 0.04) 82px
      );
    /* Subtle noise texture for dark header */
    position: relative;
  }
  
  .dark .wes-header::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.015;
    pointer-events: none;
    mix-blend-mode: overlay;
  }
  
  /* Project selector identity glow - the brand strip */
  .dark .wes-header .shadow-wes-vintage {
    position: relative;
    background: linear-gradient(
      135deg,
      hsl(var(--card) / 0.9) 0%,
      hsl(210 15% 18% / 0.95) 50%,
      hsl(var(--card) / 0.9) 100%
    );
    box-shadow: 
      0 0 30px hsl(var(--wes-vintage-gold) / 0.12),
      0 0 60px hsl(210 20% 30% / 0.1),
      inset 0 1px 0 hsl(var(--wes-vintage-gold) / 0.15),
      inset 0 0 0 1px hsl(210 15% 35% / 0.2);
  }
  
  /* Horizontal gradient band beneath header in dark mode */
  .dark .wes-header > .absolute.bottom-0 {
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      hsl(var(--wes-vintage-gold) / 0.3) 20%,
      hsl(210 25% 50% / 0.25) 50%,
      hsl(var(--wes-vintage-gold) / 0.3) 80%,
      transparent 100%
    );
  }

  .wes-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
      hsl(var(--wes-vintage-gold)), 
      hsl(var(--wes-dusty-lavender)), 
      hsl(var(--wes-dusty-blue)), 
      hsl(var(--wes-vintage-gold)), 
      hsl(var(--wes-vintage-gold))
    );
  }
  
  /* Hide decorative header line on mobile */
  @media (max-width: 767px) {
    .wes-header::before {
      display: none;
    }
  }

  .wes-nav-item {
    @apply relative px-6 py-3 font-light text-sm tracking-wider uppercase;
    @apply transition-all duration-300 ease-out;
    @apply hover:text-primary hover:bg-accent/30;
    position: relative;
  }

  .wes-nav-item::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, hsl(var(--wes-vintage-gold) / 0.2), transparent);
    transform: translate(-50%, -50%);
    transition: all 0.4s ease;
    border-radius: 50%;
  }

  .wes-nav-item:hover::before {
    width: 100%;
    height: 100%;
  }

  .wes-nav-item::after {
    content: '';
    @apply absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-wes-vintage-gold to-wes-coral;
    @apply transition-all duration-300 ease-out;
    transform: translateX(-50%);
  }

  .wes-nav-item:hover::after {
    @apply w-full;
  }

  .wes-tool-card {
    @apply wes-vintage-card wes-ornate-frame;
    @apply transition-all duration-500 ease-out cursor-pointer;
    @apply hover:shadow-2xl hover:border-primary/20;
    @apply rounded-md; /* Sharper edges like buttons */
    position: relative;
    overflow: hidden;
    background: hsl(var(--card));
    padding: 12px;
    box-shadow:
      0 4px 8px hsl(var(--primary) / 0.1),
      0 0 0 1px hsl(var(--primary) / 0.05),
      inset 0 0 0 1px hsl(var(--primary) / 0.1);
  }
  
  .dark .wes-tool-card {
    background: hsl(var(--card));
    box-shadow: 
      0 4px 8px hsl(var(--primary) / 0.2),
      0 0 0 1px hsl(var(--primary) / 0.1),
      inset 0 0 0 1px hsl(var(--primary) / 0.15);
  }

  /* Reusable click ripple effect */
  .click-ripple::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 300px;
    background:
      radial-gradient(circle,
        hsl(var(--wes-vintage-gold) / 0.35) 0%,
        hsl(var(--wes-vintage-gold) / 0.1) 40%,
        transparent 70%
      );
    transform: translate(-50%, -50%) translate(var(--ripple-x, 0), var(--ripple-y, 0)) scale(0);
    transition: transform 0s; /* No transition by default */
    pointer-events: none;
    z-index: 5;
    border-radius: 50%;
  }

  .click-ripple.ripple-active::before {
    transform: translate(-50%, -50%) translate(var(--ripple-x, 0), var(--ripple-y, 0)) scale(1);
    transition: transform 0.15s ease-out;
  }

  /* Tool card specific implementation */
  .wes-tool-card::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 300px;
    background:
      radial-gradient(circle,
        hsl(var(--wes-vintage-gold) / 0.35) 0%,
        hsl(var(--wes-vintage-gold) / 0.1) 40%,
        transparent 70%
      );
    transform: translate(-50%, -50%) translate(var(--ripple-x, 0), var(--ripple-y, 0)) scale(0);
    transition: transform 0s; /* No transition by default */
    pointer-events: none;
    z-index: 5;
    border-radius: 50%;
  }

  .wes-tool-card.clicked::before {
    transform: translate(-50%, -50%) translate(var(--ripple-x, 0), var(--ripple-y, 0)) scale(1);
    transition: transform 0.15s ease-out; /* Much faster animation */
  }

  .wes-tool-card:hover {
    /* Reduced scale and removed translateY to prevent flicker */
    transform: scale(1.02);
  }

  .wes-modal {
    @apply wes-vintage-card wes-ornate-frame wes-texture max-w-2xl mx-auto;
    @apply animate-in fade-in-0 zoom-in-95 duration-300;
  }

  .wes-input {
    @apply bg-card/90 dark:bg-card/80 border-2 border-primary/20 rounded-lg relative;
    @apply focus:border-primary focus:ring-2 focus:ring-primary/20;
    @apply transition-all duration-200 ease-out;
    box-shadow: 
      inset 0 1px 3px hsl(var(--primary) / 0.1),
      0 0 0 1px hsl(var(--wes-vintage-gold) / 0.2);
  }

  .wes-input:focus {
    box-shadow: 
      inset 0 1px 3px hsl(var(--primary) / 0.1),
      0 0 0 1px hsl(var(--wes-vintage-gold) / 0.4),
      0 0 10px hsl(var(--primary) / 0.2);
  }

  .wes-select {
    @apply wes-input appearance-none;
    background-image: 
      linear-gradient(45deg, transparent 50%, hsl(var(--primary)) 50%),
      linear-gradient(135deg, hsl(var(--primary)) 50%, transparent 50%);
    background-position: 
      calc(100% - 15px) calc(1em + 2px),
      calc(100% - 10px) calc(1em + 2px);
    background-size: 5px 5px, 5px 5px;
    background-repeat: no-repeat;
  }

  /* Enhanced decorative elements */
  .wes-ornament {
    position: relative;
  }

  .wes-ornament::before {
    content: '❋';
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 20px;
    color: hsl(var(--wes-vintage-gold));
    text-shadow: 0 0 10px hsl(var(--wes-vintage-gold) / 0.5);
  }

  .wes-divider {
    position: relative;
    text-align: center;
    margin: 2rem 0;
  }

  .wes-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      hsl(var(--wes-vintage-gold) / 0.3) 20%,
      hsl(var(--wes-dusty-lavender) / 0.3) 50%,
      hsl(var(--wes-dusty-blue) / 0.3) 80%,
      transparent
    );
  }

  .wes-divider::after {
    content: '◆';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: hsl(var(--background));
    padding: 0 1rem;
    color: hsl(var(--wes-vintage-gold));
    font-size: 12px;
  }

  /* Vintage camera aperture effect */
  .wes-aperture {
    position: relative;
    border-radius: 50%;
    overflow: hidden;
  }

  .wes-aperture::before {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      conic-gradient(from 0deg at 50% 50%,
        transparent 0deg,
        hsl(var(--primary) / 0.1) 45deg,
        transparent 90deg,
        hsl(var(--primary) / 0.1) 135deg,
        transparent 180deg,
        hsl(var(--primary) / 0.1) 225deg,
        transparent 270deg,
        hsl(var(--primary) / 0.1) 315deg,
        transparent 360deg
      );
    animation: rotate 20s linear infinite;
  }

  /* Vintage stamp effect */
  .wes-stamp {
    position: relative;
    border: 3px dashed hsl(var(--primary) / 0.4);
    background: hsl(var(--wes-cream));
    /* Keep stamps upright by default */
    transform: rotate(0deg);
  }

  .wes-stamp::before {
    content: '';
    position: absolute;
    inset: -8px;
    border: 2px solid hsl(var(--primary) / 0.2);
    background: 
      radial-gradient(circle at 4px 4px, hsl(var(--primary) / 0.3) 2px, transparent 2px);
    background-size: 8px 8px;
  }
}

@layer components {
  .sparkle-underline {
    position: relative;
    padding-bottom: 5px; /* Keeps text from getting too close to line */
  }

  /* Shared container for both underlines */
  .sparkle-underline::before,
  .sparkle-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 2px;
    width: 100%;
    height: 2px;
    pointer-events: none;
    transition: opacity 0.4s ease-in-out;
  }

  /* Static, default underline */
  .sparkle-underline::after {
    background-image: repeating-linear-gradient(
      to right,
      hsl(var(--muted-foreground) / 0.5) 0 2px,
      transparent 2px 4px
    );
    background-size: 4px 1px;
    background-repeat: repeat-x;
    opacity: 1; /* Visible by default */
  }

  .sparkle-underline:hover::after {
    opacity: 0; /* Fade out on hover */
  }

  /* Animated, colorful underline */
  .sparkle-underline::before {
    background-image: linear-gradient(
      90deg,
      hsl(var(--wes-pink)),
      hsl(var(--wes-vintage-gold)),
      hsl(var(--wes-coral)),
      hsl(var(--wes-pink)) /* Loop back */
    );
    background-size: 200% 100%;
    opacity: 0; /* Hidden by default */
    animation: sparkleColorWave 3s linear infinite;
  }

  /* Dark mode: match gold-first palette */
  .dark .sparkle-underline::after {
    background-image: repeating-linear-gradient(
      to right,
      hsl(var(--wes-vintage-gold) / 0.45) 0 2px,
      transparent 2px 4px
    );
  }

  .dark .sparkle-underline::before {
    background-image: linear-gradient(
      90deg,
      hsl(var(--wes-vintage-gold) / 0.55),
      hsl(var(--wes-vintage-gold)),
      hsl(var(--wes-vintage-gold) / 0.75),
      hsl(var(--wes-vintage-gold) / 0.55) /* Loop back */
    );
  }

  .sparkle-underline:hover::before {
    opacity: 1; /* Fade in on hover */
  }

  /* Enhance persistence for sparkle-underline when tooltip open */
  .sparkle-underline[data-state="open"]::before {
    opacity: 1 !important;
    animation: sparkleColorWave 3s linear infinite;
  }
  .sparkle-underline[data-state="open"]::after {
    opacity: 0 !important;
  }

  /* Keep colorful underline when tooltip is open (React state-based) */
  .sparkle-underline.tooltip-open::before {
    opacity: 1 !important;
    animation: sparkleColorWave 3s linear infinite;
  }
  
  .sparkle-underline.tooltip-open::after {
    opacity: 0 !important;
  }

  /* Additional fallback for tooltip hover states */
  .sparkle-underline:has(+ [data-state="open"])::before,
  .sparkle-underline[data-state="open"]:hover::before {
    opacity: 1 !important;
    animation: sparkleColorWave 3s linear infinite;
  }
  
  .sparkle-underline:has(+ [data-state="open"])::after,
  .sparkle-underline[data-state="open"]:hover::after {
    opacity: 0 !important;
  }
   
  /* Wave animation for underlines on page load */
  @keyframes underlineWaveIn {
    0% {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }

  @keyframes underlineWaveOut {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  .underline-wave-first::before {
    animation: sparkleColorWave 3s linear infinite, underlineWaveIn 2.4s ease-in-out 1 !important;
  }

  .underline-wave-first::after {
    animation: underlineWaveOut 2.4s ease-in-out 1 !important;
  }

  .underline-wave-second::before {
    animation: sparkleColorWave 3s linear infinite, underlineWaveIn 2.7s ease-in-out 0.15s 1 !important;
  }

  .underline-wave-second::after {
    animation: underlineWaveOut 2.7s ease-in-out 0.15s 1 !important;
  }

  /* Subtitle wrap-arrow + underline (inline SVG tails) */
  .subtitle-container {
    position: relative;
  }

  .subtitle-link-left,
  .subtitle-link-right {
    position: relative;
    padding-bottom: 2px;
  }

  /* Underline sits just under the baseline */
  .subtitle-link-left::after,
  .subtitle-link-right::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 1px;
    height: 1.5px;
    background-color: rgba(236, 237, 227, 0.4);
    transition: background-color 0.2s ease;
  }

  /* Hover: brighten underline + SVG group together */
  .arrow-group-left,
  .arrow-group-right {
    transition: opacity 0.2s ease;
  }

  .subtitle-link-left:hover::after,
  .subtitle-link-right:hover::after {
    background-color: rgba(236, 237, 227, 0.8);
  }

  .subtitle-link-left:hover .arrow-group-left,
  .subtitle-link-right:hover .arrow-group-right {
    opacity: 0.8 !important;
  }
   
  /* Multicolour border for tooltips on hover */
  .tooltip-content:hover {
    border-image: linear-gradient(to right, hsl(var(--wes-pink)), hsl(var(--wes-vintage-gold)), hsl(var(--wes-coral))) 1;
    border-image-slice: 1;
    border-width: 2px;
  }
}

@keyframes sparkleColorWave {
  to {
    background-position: -200% 0;
  }
}

@keyframes fill-bar {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

@keyframes slideUp {
  from {
    opacity: 1;
    transform: translateY(25vh);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideToFinal {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInStable {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Clean, subtle color cycling with smooth loop back to start */
@keyframes reighColorCycle {
  0% { filter: hue-rotate(0deg) saturate(1.0) brightness(1.0); }      /* Original clean */
  20% { filter: hue-rotate(30deg) saturate(0.95) brightness(1.02); }  /* Clean shift toward gold */
  40% { filter: hue-rotate(60deg) saturate(1.05) brightness(0.98); }  /* Clean shift toward mint */
  60% { filter: hue-rotate(90deg) saturate(0.9) brightness(1.01); }   /* Clean shift toward coral */
  80% { filter: hue-rotate(60deg) saturate(0.95) brightness(0.99); }  /* Smooth return journey */
  100% { filter: hue-rotate(0deg) saturate(1.0) brightness(1.0); }    /* Back to original - smooth loop */
}

@keyframes dreamyShimmer {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}

@keyframes gentleSpotlight {
  0% { 
    transform: translateX(0) translateY(0) scale(1); 
    opacity: 0.6;
  }
  50% { 
    transform: translateX(10px) translateY(-5px) scale(1.1); 
    opacity: 0.9;
  }
  100% { 
    transform: translateX(0) translateY(0) scale(1); 
    opacity: 0.6;
  }
}

@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: hsl(var(--primary)); }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes dreamyGlow {
  0%, 100% { 
    text-shadow: 
      0 0 8px hsl(var(--wes-vintage-gold) / 0.6),
      0 0 15px hsl(var(--wes-vintage-gold) / 0.4),
      0 0 25px hsl(var(--wes-pink) / 0.2);
  }
  50% { 
    text-shadow: 
      0 0 15px hsl(var(--wes-vintage-gold) / 0.9),
      0 0 25px hsl(var(--wes-vintage-gold) / 0.6),
      0 0 35px hsl(var(--wes-pink) / 0.4),
      0 0 45px hsl(var(--secondary) / 0.3);
  }
}

@keyframes parallaxFloat {
  0%, 100% { 
    transform: translateY(0px) translateX(0px) rotate(0deg); 
  }
  25% { 
    transform: translateY(-10px) translateX(5px) rotate(1deg); 
  }
  50% { 
    transform: translateY(-5px) translateX(-3px) rotate(-0.5deg); 
  }
  75% { 
    transform: translateY(-15px) translateX(8px) rotate(1.5deg); 
  }
}

@keyframes vintagePulse {
  0%, 100% { 
    opacity: 0.6;
    transform: scale(1);
  }
  50% { 
    opacity: 0.9;
    transform: scale(1.05);
  }
}

/* Animation for drag drop shrink fade */
@keyframes scaleFade {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0.3); opacity: 0; }
}

/* Subtle flash animation for new tasks */
@keyframes flash {
  0% { border-color: rgb(45 212 191); opacity: 1; }
  20% { border-color: rgb(45 212 191); opacity: 0.7; }
  40% { border-color: rgb(45 212 191); opacity: 1; }
  60% { border-color: rgb(45 212 191); opacity: 0.8; }
  80% { border-color: rgb(45 212 191); opacity: 1; }
  90% { border-color: rgb(45 212 191); opacity: 0.5; }
  100% { border-color: rgb(113 113 122); opacity: 1; }
}

.animate-scale-fade {
  animation: scaleFade 0.3s forwards ease-out;
}

/* Utility: disable the sweeping highlight that .wes-button adds */
.no-sweep::before {
  display: none !important;
}

/* Circular pulse animation from center */
.wes-button-pulse {
  position: relative;
  overflow: hidden;
}

.wes-button-pulse::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.6s ease-out;
  pointer-events: none;
}

.wes-button-pulse:hover::before {
  width: 200%;
  height: 200%;
}

/* Clockwise spinning pulse animation */
.wes-button-spin-pulse {
  position: relative;
  overflow: hidden;
}

.wes-button-spin-pulse::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 140%;
  height: 140%;
  background: conic-gradient(from 0deg, transparent 0%, rgba(255,255,255,0.8) 20%, rgba(255,255,255,0.6) 40%, transparent 60%, rgba(255,255,255,0.4) 80%, transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotate(0deg);
  opacity: 0;
  transition: opacity 0.2s ease-out;
  pointer-events: none;
  z-index: 10;
}

.wes-button-spin-pulse:hover::before {
  opacity: 1;
  animation: spin-pulse 1.2s linear infinite;
}

@keyframes spin-pulse {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes subtleWiggle {
  0%, 100% {
    transform: rotate(-3deg);
  }
  25% {
    transform: rotate(3deg);
  }
  50% {
    transform: rotate(-3deg);
  }
  75% {
    transform: rotate(3deg);
  }
}

.animate-subtle-wiggle {
  animation: subtleWiggle 0.5s ease-in-out;
}

/* Custom animations for homepage side panes */
@keyframes spinLeftFade {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(-90deg);
  }
}

@keyframes spinRightFade {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(90deg);
  }
}

@keyframes spinLeftFadeReverse {
  0% {
    transform: rotate(-90deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes spinRightFadeReverse {
  0% {
    transform: rotate(90deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

.animate-spin-left-fade {
  animation: spinLeftFade 0.6s ease-out forwards;
}

.animate-spin-right-fade {
  animation: spinRightFade 0.6s ease-out forwards;
}

.animate-spin-left-fade-reverse {
  animation: spinLeftFadeReverse 0.3s ease-out forwards;
}

.animate-spin-right-fade-reverse {
  animation: spinRightFadeReverse 0.3s ease-out forwards;
}

/* Custom utility overrides for tool selector page */
@layer utilities {
  .tool-selector-text-lg {
    font-size: 0.725rem;
    line-height: 1.75rem;
  }

  .tool-selector-py-3 {
    padding-top: 0.25rem;
    padding-bottom: 0.25rem;
  }

  .tool-selector-py-8 {
    padding-top: 0rem;
    padding-bottom: 0rem;
  }

  /* Override Tailwind's py-8 class */
  .py-8 {
    padding-top: 0rem !important;
    padding-bottom: 0rem !important;
  }

  /* Content-responsive debugging info */
  /* CSS custom properties set by Layout.tsx for content area dimensions */
  /* --content-width: actual available content width in px */
  /* --content-height: actual available content height in px */
  /* --content-sm, --content-md, --content-lg, --content-xl, --content-2xl: 1 or 0 */
  
  /* Helper utilities for content-aware layouts */
  .content-responsive-debug {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px;
    font-size: 12px;
    z-index: 10000;
    border-radius: 4px;
  }
  
  .content-responsive-debug::after {
    content: 'Content: ' var(--content-width) 'x' var(--content-height) ' | SM:' var(--content-sm, 0) ' LG:' var(--content-lg, 0);
  }
}

/* Timeline scrollbar always visible and styled */
.timeline-scroll {
  scrollbar-gutter: stable;
}

.timeline-scroll::-webkit-scrollbar {
  height: 10px;
}

.timeline-scroll::-webkit-scrollbar-track {
  background: hsla(var(--muted) / 0.4);
}

.timeline-scroll::-webkit-scrollbar-thumb {
  background: hsl(var(--primary));
  border-radius: 4px;
}

/* Ensure thumb stands out in dark mode */
.dark .timeline-scroll::-webkit-scrollbar-thumb {
  background: hsl(var(--primary-foreground));
}

/* Elegant background animations */
@keyframes gradientShift {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.8; }
}

@keyframes pulseSubtle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.4; }
}

@keyframes gradientBreathe {
  0%, 100% { 
    opacity: 0.5;
  }
  25% { 
    opacity: 0.6;
  }
  50% { 
    opacity: 0.4;
  }
  75% { 
    opacity: 0.55;
  }
}

@keyframes gradientDrift {
  0%, 100% { 
    transform: translate(0, 0) scale(1);
    opacity: 0.4;
  }
  33% { 
    transform: translate(5%, 5%) scale(1.05);
    opacity: 0.5;
  }
  66% { 
    transform: translate(-3%, 3%) scale(0.98);
    opacity: 0.35;
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes floatSlow {
  0%, 100% { 
    transform: translateY(0px) translateX(0px); 
    opacity: 0.8;
  }
  33% { 
    transform: translateY(-20px) translateX(10px); 
    opacity: 0.6;
  }
  66% { 
    transform: translateY(10px) translateX(-5px); 
    opacity: 0.9;
  }
}

@keyframes floatGentle {
  0%, 100% { 
    transform: translateY(0px) translateX(0px) scale(1); 
    opacity: 0.7;
  }
  25% { 
    transform: translateY(-15px) translateX(8px) scale(1.1); 
    opacity: 0.5;
  }
  50% { 
    transform: translateY(-8px) translateX(-3px) scale(0.9); 
    opacity: 0.8;
  }
  75% { 
    transform: translateY(5px) translateX(12px) scale(1.05); 
    opacity: 0.6;
  }
}

@keyframes rotateGentle {
  0%, 100% { 
    transform: rotate(0deg) scale(1); 
    opacity: 0.6;
  }
  25% { 
    transform: rotate(5deg) scale(1.1); 
    opacity: 0.4;
  }
  50% { 
    transform: rotate(-3deg) scale(0.95); 
    opacity: 0.7;
  }
  75% { 
    transform: rotate(8deg) scale(1.05); 
    opacity: 0.5;
  }
}

/* Animation utility classes */
.animate-gradient-shift {
  animation: gradientShift 12s ease-in-out infinite;
}

.animate-pulse-subtle {
  animation: pulseSubtle 8s ease-in-out infinite;
}

.animate-gradient-breathe {
  animation: gradientBreathe 20s ease-in-out infinite;
}

.animate-gradient-drift {
  animation: gradientDrift 25s ease-in-out infinite;
}

.animate-shimmer {
  background-size: 200% auto;
  animation: shimmer 3s linear infinite;
}

.animate-reigh-color-cycle {
  animation: reighColorCycle 20s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulseGlow 4s ease-in-out infinite;
}

.animate-pulse-breathe {
  animation: pulseBreath 3s ease-in-out infinite;
}

.animate-pulse-wave {
  animation: pulseWave 5s ease-in-out infinite;
}

.animate-float-slow {
  animation: floatSlow 20s ease-in-out infinite;
}

.animate-float-gentle {
  animation: floatGentle 15s ease-in-out infinite;
}

.animate-rotate-gentle {
  animation: rotateGentle 25s ease-in-out infinite;
}

/* Missing animations for GlobalHeader buttons */
@keyframes wrenchTurn {
  0%, 15% {
    transform: scale(1.1) rotate(0deg);
  }
  25%, 40% {
    transform: scale(1.1) rotate(-12deg);
  }
  50%, 65% {
    transform: scale(1.1) rotate(12deg);
  }
  75%, 90% {
    transform: scale(1.1) rotate(-8deg);
  }
  100% {
    transform: scale(1.1) rotate(0deg);
  }
}

@keyframes bubblePop {
  0%, 20% {
    transform: scale(1);
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(1.15);
  }
  85% {
    transform: scale(1.08);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes rotateSlow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes bounceGentle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

@keyframes sway {
  0%, 100% {
    transform: translateX(0) rotate(0deg);
  }
  33% {
    transform: translateX(2px) rotate(2deg);
  }
  66% {
    transform: translateX(-2px) rotate(-2deg);
  }
}

@keyframes paintbrushStroke {
  0%, 100% {
    transform: rotate(0deg);
  }
  20% {
    transform: rotate(-15deg);
  }
  40% {
    transform: rotate(10deg);
  }
  60% {
    transform: rotate(-8deg);
  }
  80% {
    transform: rotate(5deg);
  }
}

.animate-wrench-turn {
  animation: wrenchTurn 0.6s ease-in-out !important;
}

.animate-bubble-pop {
  animation: bubblePop 0.5s ease-in-out !important;
}

.animate-rotate-slow {
  animation: rotateSlow 10s linear infinite;
}

.animate-bounce-gentle {
  animation: bounceGentle 2s ease-in-out infinite;
}

.animate-vintage-pulse {
  animation: vintagePulse 3s ease-in-out infinite;
}

.animate-sway {
  animation: sway 4s ease-in-out infinite;
}

/* Subtle color shifting for logo icon */
@keyframes color-shift {
  0%, 100% {
    color: #a098a8; /* lavender faded */
  }
  33% {
    color: #b0a0a8; /* pink-ish faded */
  }
  66% {
    color: #8898a8; /* dusty-blue faded */
  }
}

.animate-color-shift {
  animation: color-shift 8s ease-in-out infinite;
}

.animate-paintbrush-stroke {
  animation: paintbrushStroke 0.8s ease-in-out;
}

.animate-paintbrush-subtle-wiggle {
  animation: paintbrushSubtleWiggle 1.5s ease-in-out infinite;
}

/* Paintbrush wiggle animation */
@keyframes paintbrushSubtleWiggle {
  0%, 100% {
    transform: scaleX(-1) rotate(12deg);
  }
  50% {
    transform: scaleX(-1) rotate(-8deg);
  }
}

/* A static, single-frame animation for the "at rest" state */
@keyframes paintbrushRest {
  from { transform: scaleX(-1) rotate(0deg); }
  to { transform: scaleX(-1) rotate(0deg); }
}

/* Base state - paintbrush is static at the start position */
.paintbrush-anim {
  transform: scaleX(-1) rotate(12deg);
}

/* Trigger animation on group hover to sync perfectly with particles */
/* Using ease-out to match the particle animation easing */
.group:hover .paintbrush-anim {
  animation: paintbrushSubtleWiggle 1.8s ease-out infinite;
}

@keyframes paintbrushWiggle {
  0%, 100% {
    transform: rotate(0deg);
    transform-origin: bottom center;
  }
  10% {
    transform: rotate(-10deg);
    transform-origin: bottom center;
  }
  20% {
    transform: rotate(10deg);
    transform-origin: bottom center;
  }
  30% {
    transform: rotate(-8deg);
    transform-origin: bottom center;
  }
  40% {
    transform: rotate(8deg);
    transform-origin: bottom center;
  }
  50% {
    transform: rotate(-6deg);
    transform-origin: bottom center;
  }
  60% {
    transform: rotate(6deg);
    transform-origin: bottom center;
  }
  70% {
    transform: rotate(-4deg);
    transform-origin: bottom center;
  }
  80% {
    transform: rotate(4deg);
    transform-origin: bottom center;
  }
  90% {
    transform: rotate(-2deg);
    transform-origin: bottom center;
  }
}

.animate-paintbrush-wiggle {
  animation: paintbrushWiggle 0.8s ease-in-out infinite;
  transform-origin: bottom center;
}

/* Paint particle sequential animation */
@keyframes paintParticleSequential {
  0%, 15% {
    opacity: 0;
    transform: scale(1);
  }
  20% {
    opacity: 1;
    transform: scale(1);
  }
  40% {
    opacity: 1;
    transform: scale(2);
  }
  60% {
    opacity: 0;
    transform: scale(3.5);
  }
  100% {
    opacity: 0;
    transform: scale(3.5);
  }
}

.animate-paint-particle-1 {
  animation: paintParticleSequential 1.8s ease-out infinite;
  animation-delay: 0s;
}

.animate-paint-particle-2 {
  animation: paintParticleSequential 1.8s ease-out infinite;
  animation-delay: 0.3s;
}

.animate-paint-particle-3 {
  animation: paintParticleSequential 1.8s ease-out infinite;
  animation-delay: 0.6s;
}

/* Group-hover variants for custom animations */
.group:hover .group-hover\:animate-wrench-turn {
  animation: wrenchTurn 1.2s ease-in-out infinite;
}

.group:hover .group-hover\:animate-bubble-pop {
  animation: bubblePop 0.8s ease-in-out infinite;
}

/* Icon hover animations */
@keyframes brainPulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes giftingMotion {
  0%, 100% {
    transform: translateX(1px);
  }
  50% {
    transform: translateX(-1px);
  }
}

.group:hover .animate-brain-pulse {
  animation: brainPulse 1.5s ease-in-out infinite;
}

.group:hover .animate-gifting-motion {
  animation: giftingMotion 2s ease-in-out infinite;
}

/* Decorative line animations */
@keyframes pulseGlow {
  0%, 100% {
    opacity: 1;
    filter: brightness(1);
  }
  50% {
    opacity: 0.6;
    filter: brightness(1.02);
  }
}

@keyframes pulseBreath {
  0%, 100% {
    opacity: 1;
    filter: brightness(1);
  }
  33% {
    opacity: 0.8;
    filter: brightness(1.1);
  }
  66% {
    opacity: 0.9;
    filter: brightness(0.95);
  }
}

@keyframes pulseWave {
  0%, 100% {
    opacity: 1;
    filter: brightness(1);
  }
  25% {
    opacity: 0.8;
    filter: brightness(1.05);
  }
  50% {
    opacity: 0.5;
    filter: brightness(1.1);
  }
  75% {
    opacity: 0.8;
    filter: brightness(1.05);
  }
}

@keyframes swayX {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(-1.5px); }
}

@keyframes swayY {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-1.5px); }
}

.animate-sway-x {
  animation: swayX 0.6s ease-in-out infinite;
}

.animate-sway-y {
  animation: swayY 0.6s ease-in-out infinite;
}

/* Group-hover variant for sway-x animation */
.group:hover .group-hover\:animate-sway-x {
  animation: swayX 0.8s ease-in-out infinite;
}

.group:hover .group-hover\:animate-sway-y {
  animation: swayY 0.8s ease-in-out infinite;
}

/* Hide scrollbar but keep scroll functionality */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* --- Palette icon hover fill ------------------------------------------- */
.palette-icon circle {
  /* paint wells start empty */
  fill: transparent;
  stroke: currentColor;
  transition: fill 800ms ease, stroke 800ms ease;
}
.palette-icon path {
  /* outer border starts with current color */
  stroke: currentColor;
}
.group:hover .palette-icon path {
  animation:
    palette-entry 1s ease forwards,
    palette-border-cycle 32s ease-in-out 1s infinite;
}
@keyframes palette-entry {
  0% { stroke: currentColor; }
  100% { stroke: rgba(253, 226, 228, 0.6); } /* pink */
}
@keyframes palette-border-cycle {
  0% { stroke: rgba(253, 226, 228, 0.6); }
  25% { stroke: rgba(228, 230, 255, 0.6); }
  50% { stroke: rgba(208, 244, 222, 0.6); }
  75% { stroke: rgba(250, 221, 151, 0.6); }
  100% { stroke: rgba(253, 226, 228, 0.6); }
}
@keyframes soul-grow-animation {
  0% { color: hsl(var(--wes-dusty-blue)); }
  25% { color: hsl(var(--wes-lavender)); }
  50% { color: hsl(var(--wes-vintage-gold)); }
  75% { color: hsl(var(--wes-dusty-lavender)); }
  100% { color: hsl(var(--wes-dusty-blue)); }
}
.animated-soul-grow {
  animation: soul-grow-animation 8s ease-in-out infinite;
  font-style: normal;
  font-weight: 600;
}
/* Slow white overlay */
.palette-wrapper {
  position: relative;
  overflow: hidden;
  transition: border-color 800ms ease, box-shadow 800ms ease;
}
.palette-wrapper:hover {
  border-color: rgba(253, 226, 228, 0.6);
  animation: palette-border-wrapper-cycle 32s ease-in-out 1s infinite;
}
.palette-wrapper.dehovering {
  animation: none;
  border-color: rgba(250, 221, 151, 0.2); /* original border color */
}
@keyframes palette-border-wrapper-cycle {
  0% { border-color: rgba(253, 226, 228, 0.6); }
  25% { border-color: rgba(228, 230, 255, 0.6); }
  50% { border-color: rgba(208, 244, 222, 0.6); }
  75% { border-color: rgba(250, 221, 151, 0.6); }
  100% { border-color: rgba(253, 226, 228, 0.6); }
}

/* Synchronized color animations for PaletteIcon connecting line and quote box */
.animate-connecting-line-hover {
  animation: connecting-line-hover 32s ease-in-out 1s infinite;
}

@keyframes connecting-line-hover {
  0%, 100% { 
    filter: hue-rotate(0deg) saturate(1.2); 
    opacity: 0.9;
  }
  25% { 
    filter: hue-rotate(-20deg) saturate(0.8); 
    opacity: 0.85;
  }
  50% { 
    filter: hue-rotate(40deg) saturate(0.9); 
    opacity: 0.9;
  }
  75% { 
    filter: hue-rotate(-40deg) saturate(1.1); 
    opacity: 0.85;
  }
}

@keyframes quote-border-color-cycle {
  0% { border-color: rgba(253, 226, 228, 0.6); }
  25% { border-color: rgba(228, 230, 255, 0.6); }
  50% { border-color: rgba(208, 244, 222, 0.6); }
  75% { border-color: rgba(250, 221, 151, 0.6); }
  100% { border-color: rgba(253, 226, 228, 0.6); }
}
.palette-wrapper::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.7));
  opacity: 0;
  transition: opacity 3000ms ease;
  pointer-events: none;
  border-radius: inherit;
  z-index: -1;
}
.palette-wrapper:hover::before {
  opacity: 1;
}

/* ========================================= */
/* DECORATIVE ANIMATIONS */
/* ========================================= */

@keyframes filmGrain {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.6; }
}

@keyframes vintageScratches {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-1px, 1px); }
  50% { transform: translate(1px, -1px); }
  75% { transform: translate(-1px, -1px); }
  100% { transform: translate(0, 0); }
}
.palette-wrapper > * {
  position: relative;
  z-index: 1;
}
.group:hover .palette-icon circle:nth-of-type(1) { fill: #fde2e4; stroke: #fde2e4; transition-delay: 600ms; } /* pastel pink */
.group:hover .palette-icon circle:nth-of-type(2) { fill: #e4e6ff; stroke: #e4e6ff; transition-delay: 800ms; } /* pastel lavender */
.group:hover .palette-icon circle:nth-of-type(3) { fill: #d0f4de; stroke: #d0f4de; transition-delay: 400ms; } /* pastel mint */
.group:hover .palette-icon circle:nth-of-type(4) { fill: #fadd97; stroke: #fadd97; transition-delay: 200ms; } /* darker yellow */
/* ----------------------------------------------------------------------- */

.dehovering .palette-icon path {
  animation: none !important;
  stroke: currentColor;
  transition: stroke 800ms ease;
}

.dehovering .palette-icon circle {
  fill: transparent;
  stroke: currentColor;
  transition: fill 800ms ease, stroke 800ms ease;
}

.dehovering {
  /* Just remove all special styling and let it return naturally */
}

@layer utilities {
  /* Radial gradient utility for subtle background effects */
  .bg-gradient-radial {
    background-image: radial-gradient(circle at bottom right, var(--tw-gradient-stops));
  }
}

@layer utilities {
  /* Override Tailwind's min-h-screen to account for mobile dynamic viewport height */
  .min-h-screen {
    /* Fallback for older browsers */
    min-height: 100vh;
    /* Use dynamic viewport unit where supported to avoid address-bar shift issues */
    min-height: 100dvh;
  }

  /* Hide fullscreen and picture-in-picture buttons on videos */
  .hide-video-controls::-webkit-media-controls-fullscreen-button {
    display: none !important;
  }
  
  .hide-video-controls::-webkit-media-controls-picture-in-picture-button {
    display: none !important;
  }

  /* For Firefox */
  .hide-video-controls::-moz-media-controls-fullscreen-button {
    display: none !important;
  }

}

/* Custom override for modal inputs */
[data-radix-dialog-content] input,
[data-radix-dialog-content] textarea,
[data-radix-dialog-content] [data-radix-select-trigger] {
  --input: #faf9f7;
  --ring: hsl(var(--ring));
  border-color: #f5f3f0;
}

.dark [data-radix-dialog-content] input,
.dark [data-radix-dialog-content] textarea,
.dark [data-radix-dialog-content] [data-radix-select-trigger] {
  --input: #4a453f;
  --ring: hsl(var(--ring));
  border-color: #3d3831;
}

/* Special styling for main prompt text fields in PromptInputRow */
[data-radix-dialog-content] textarea[id^="fullPrompt-"] {
  --input: #f0f8ff !important;
  --ring: var(--theme-cat-secondary) !important;
  border-color: #e6f3ff !important;
  background-color: #f0f8ff !important;
}

.dark [data-radix-dialog-content] textarea[id^="fullPrompt-"] {
  --input: #2a3441 !important;
  --ring: var(--theme-cat-secondary) !important;
  border-color: #1e2834 !important;
  background-color: #2a3441 !important;
}

/* Add a reverse animation for dehovering */
@keyframes palette-exit {
  from { stroke: rgba(253, 226, 228, 0.6); } /* Last color from hover animation */
  to { stroke: currentColor; }
}

.dehovering .palette-icon path {
  /* Use the new exit animation */
  animation: palette-exit 800ms ease forwards;
  /* Remove the transition property as animation is now used */
}
.dehovering .palette-icon circle {
  /* Allow circles to continue their smooth transition back to empty */
  fill: transparent;
  stroke: currentColor;
  transition: fill 800ms ease, stroke 800ms ease;
}



/* Banodoco Icon Burst Animation */
@keyframes burstAndFlash {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  60% {
    transform: scale(1.15);
    opacity: 1;
  }
  80% {
    transform: scale(0.95);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-burst-and-flash {
  animation: burstAndFlash 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}
